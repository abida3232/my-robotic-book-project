<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-part2-ros/chapter5-packages" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Chapter 5 - ROS Packages and Workspaces | Physical AI &amp; Humanoid Robotics</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://abida3232.github.io/my-robotic-book-project/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://abida3232.github.io/my-robotic-book-project/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://abida3232.github.io/my-robotic-book-project/docs/part2-ros/chapter5-packages"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Chapter 5 - ROS Packages and Workspaces | Physical AI &amp; Humanoid Robotics"><meta data-rh="true" name="description" content="5.1 Understanding ROS Packages"><meta data-rh="true" property="og:description" content="5.1 Understanding ROS Packages"><link data-rh="true" rel="icon" href="/my-robotic-book-project/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://abida3232.github.io/my-robotic-book-project/docs/part2-ros/chapter5-packages"><link data-rh="true" rel="alternate" href="https://abida3232.github.io/my-robotic-book-project/docs/part2-ros/chapter5-packages" hreflang="en"><link data-rh="true" rel="alternate" href="https://abida3232.github.io/my-robotic-book-project/docs/part2-ros/chapter5-packages" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Chapter 5 - ROS Packages and Workspaces","item":"https://abida3232.github.io/my-robotic-book-project/docs/part2-ros/chapter5-packages"}]}</script><link rel="alternate" type="application/rss+xml" href="/my-robotic-book-project/blog/rss.xml" title="Physical AI &amp; Humanoid Robotics RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/my-robotic-book-project/blog/atom.xml" title="Physical AI &amp; Humanoid Robotics Atom Feed"><link rel="stylesheet" href="/my-robotic-book-project/assets/css/styles.9c53a5ce.css">
<script src="/my-robotic-book-project/assets/js/runtime~main.81d0007e.js" defer="defer"></script>
<script src="/my-robotic-book-project/assets/js/main.03b18d37.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/my-robotic-book-project/img/logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/my-robotic-book-project/"><div class="navbar__logo"><img src="/my-robotic-book-project/img/logo.svg" alt="Panaversity Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/my-robotic-book-project/img/logo.svg" alt="Panaversity Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Physical AI &amp; Humanoid Robotics</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/my-robotic-book-project/docs/">Book</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/panaversity/my-robotic-book" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/my-robotic-book-project/docs/"><span title="Welcome to Physical AI &amp; Humanoid Robotics" class="linkLabel_WmDU">Welcome to Physical AI &amp; Humanoid Robotics</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/my-robotic-book-project/docs/part1-foundations/chapter1-principles"><span title="Part 1: The Foundations of Physical AI" class="categoryLinkLabel_W154">Part 1: The Foundations of Physical AI</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/my-robotic-book-project/docs/part2-ros/chapter4-core-concepts"><span title="Part 2: The Robotic Nervous System" class="categoryLinkLabel_W154">Part 2: The Robotic Nervous System</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/my-robotic-book-project/docs/part2-ros/chapter4-core-concepts"><span title="Chapter 4 - ROS Core Concepts" class="linkLabel_WmDU">Chapter 4 - ROS Core Concepts</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/my-robotic-book-project/docs/part2-ros/chapter5-packages"><span title="Chapter 5 - ROS Packages and Workspaces" class="linkLabel_WmDU">Chapter 5 - ROS Packages and Workspaces</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/my-robotic-book-project/docs/part2-ros/chapter6-urdf"><span title="Chapter 6 - URDF and Robot Description" class="linkLabel_WmDU">Chapter 6 - URDF and Robot Description</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/my-robotic-book-project/docs/part3-simulation/chapter7-gazebo"><span title="Part 3: Digital Twins &amp; Simulation" class="categoryLinkLabel_W154">Part 3: Digital Twins &amp; Simulation</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/my-robotic-book-project/docs/appendix-hardware-guide"><span title="Appendices" class="categoryLinkLabel_W154">Appendices</span></a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/my-robotic-book-project/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Part 2: The Robotic Nervous System</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Chapter 5 - ROS Packages and Workspaces</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Chapter 5: ROS Packages and Workspaces</h1></header>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="51-understanding-ros-packages">5.1 Understanding ROS Packages<a href="#51-understanding-ros-packages" class="hash-link" aria-label="Direct link to 5.1 Understanding ROS Packages" title="Direct link to 5.1 Understanding ROS Packages" translate="no">​</a></h2>
<p>In the Robot Operating System (ROS), the concept of a <strong>package</strong> is fundamental to organizing and managing software. A ROS package is the primary unit of software organization, serving as a container for all the files necessary to implement a specific piece of functionality. Whether you&#x27;re writing code for a robot&#x27;s navigation system, a sensor driver, or a simple utility tool, it will reside within a ROS package.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="definition-the-fundamental-unit-of-software-organization-in-ros-ros-1--ros-2">Definition: The fundamental unit of software organization in ROS (ROS 1 &amp; ROS 2)<a href="#definition-the-fundamental-unit-of-software-organization-in-ros-ros-1--ros-2" class="hash-link" aria-label="Direct link to Definition: The fundamental unit of software organization in ROS (ROS 1 &amp; ROS 2)" title="Direct link to Definition: The fundamental unit of software organization in ROS (ROS 1 &amp; ROS 2)" translate="no">​</a></h3>
<p>A ROS package is essentially a directory that bundles together source code (C++, Python, etc.), message and service definitions, configuration files, launch files, documentation, and any other resources related to a particular robot capability. This modular approach is consistent across both ROS 1 and ROS 2, although some internal structures and build systems have evolved.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="purpose-encapsulate-related-code-data-and-configuration-files-for-a-specific-functionality">Purpose: Encapsulate related code, data, and configuration files for a specific functionality.<a href="#purpose-encapsulate-related-code-data-and-configuration-files-for-a-specific-functionality" class="hash-link" aria-label="Direct link to Purpose: Encapsulate related code, data, and configuration files for a specific functionality." title="Direct link to Purpose: Encapsulate related code, data, and configuration files for a specific functionality." translate="no">​</a></h3>
<p>The core purpose of a package is encapsulation. It groups logically related components, making it easier to manage dependencies, distribute software, and understand the scope of a particular robotic function. For example, a single package might contain:</p>
<ul>
<li class="">The driver code for a specific camera.</li>
<li class="">Algorithms for processing the camera&#x27;s images.</li>
<li class="">Configuration files for the camera&#x27;s settings.</li>
<li class="">Launch files to start the camera driver and image processing nodes together.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="benefits-modularity-reusability-clear-dependency-management">Benefits: Modularity, reusability, clear dependency management.<a href="#benefits-modularity-reusability-clear-dependency-management" class="hash-link" aria-label="Direct link to Benefits: Modularity, reusability, clear dependency management." title="Direct link to Benefits: Modularity, reusability, clear dependency management." translate="no">​</a></h3>
<p>This package-based organization offers several significant benefits:</p>
<ul>
<li class=""><strong>Modularity:</strong> Breaking down complex robotic systems into smaller, manageable packages simplifies development. Each package can be developed, tested, and maintained independently.</li>
<li class=""><strong>Reusability:</strong> A well-designed package can be easily reused in different robot projects or shared within the ROS community. This promotes a &quot;don&#x27;t reinvent the wheel&quot; philosophy, accelerating development cycles.</li>
<li class=""><strong>Clear Dependency Management:</strong> Each package explicitly declares its dependencies on other packages or system libraries. This makes it straightforward to ensure that all necessary components are present when building or running a robotic application.</li>
<li class=""><strong>Collaboration:</strong> Teams can work on different packages simultaneously without extensive conflicts, and the open-source nature of ROS encourages sharing and collaboration across the globe.</li>
<li class=""><strong>Maintainability:</strong> Isolated functionalities mean that changes in one part of the system are less likely to break unrelated components, making maintenance and updates more manageable.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="511-package-structure">5.1.1 Package Structure<a href="#511-package-structure" class="hash-link" aria-label="Direct link to 5.1.1 Package Structure" title="Direct link to 5.1.1 Package Structure" translate="no">​</a></h3>
<p>While the exact content can vary, a typical ROS package (in both ROS 1 and ROS 2) adheres to a common directory and file structure:</p>
<ul>
<li class=""><strong><code>src/</code>:</strong> This directory is where the primary source code for your package resides. It can contain C++ (<code>.cpp</code>, <code>.h</code>) files, Python (<code>.py</code>) scripts, or other language-specific source files.</li>
<li class=""><strong><code>include/</code>:</strong> For C++ packages, this directory holds header files (<code>.h</code>, <code>.hpp</code>) that define classes, functions, and data structures intended for use by other parts of the same package or by other packages.</li>
<li class=""><strong><code>msg/</code>, <code>srv/</code>, <code>action/</code>:</strong> These directories contain custom message (<code>.msg</code>), service (<code>.srv</code>), and action (<code>.action</code>) definitions. These files define the data structures for inter-node communication.</li>
<li class=""><strong><code>launch/</code>:</strong> This directory stores launch files (typically <code>.launch</code> in ROS 1, <code>.launch.py</code> or <code>.launch.xml</code> in ROS 2). Launch files are XML or Python scripts that allow you to start multiple ROS nodes, set parameters, and configure the entire ROS system with a single command.</li>
<li class=""><strong><code>config/</code>:</strong> Configuration files, often in YAML format (<code>.yaml</code>), are placed here. These files store parameters that can be loaded onto the ROS parameter server to configure nodes without recompiling code.</li>
<li class=""><strong><code>urdf/</code> or <code>xacro/</code>:</strong> For robots, these directories contain Unified Robot Description Format (URDF) or XACRO files, which are XML-based formats for describing the robot&#x27;s kinematic and dynamic properties, visual appearance, and collision models.</li>
<li class=""><strong><code>worlds/</code>:</strong> If your package involves simulation, this directory might contain <code>.world</code> files for Gazebo or other simulation environments, defining the simulated world&#x27;s physics and objects.</li>
</ul>
<p><strong>Key Files within a Package:</strong></p>
<ul>
<li class=""><strong><code>CMakeLists.txt</code>:</strong> This file is the build script for the package, especially for C++ projects using CMake. It specifies how to compile source files, link libraries, and install executables and libraries.</li>
<li class=""><strong><code>package.xml</code>:</strong> This is the manifest file for the ROS package. It contains essential metadata about the package, including its name, version, description, maintainers, license, and, crucially, its dependencies on other ROS packages and system libraries.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="512-creating-a-new-package">5.1.2 Creating a New Package<a href="#512-creating-a-new-package" class="hash-link" aria-label="Direct link to 5.1.2 Creating a New Package" title="Direct link to 5.1.2 Creating a New Package" translate="no">​</a></h3>
<p>Creating a new package is the first step in starting new ROS development.</p>
<ul>
<li class=""><strong><code>catkin_create_pkg</code> (ROS 1):</strong> This command is used to create a new Catkin package.<!-- -->
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">catkin_create_pkg &lt;package_name&gt; [dependency1] [dependency2] ...</span><br></span></code></pre></div></div>
<!-- -->For example: <code>catkin_create_pkg my_robot_driver rospy std_msgs</code> creates a package named <code>my_robot_driver</code> with <code>rospy</code> and <code>std_msgs</code> as dependencies.</li>
<li class=""><strong><code>ros2 pkg create</code> (ROS 2):</strong> The ROS 2 equivalent command offers more options for language and build type.<!-- -->
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ros2 pkg create --build-type &lt;ament_cmake or ament_python&gt; --dependencies [dep1] [dep2] ... &lt;package_name&gt;</span><br></span></code></pre></div></div>
<!-- -->For example: <code>ros2 pkg create --build-type ament_python --dependencies rclpy std_msgs my_robot_controller</code> creates a Python package.</li>
</ul>
<p>A basic package setup walkthrough typically involves:</p>
<ol>
<li class="">Deciding on the package name and its purpose.</li>
<li class="">Using the appropriate <code>create_pkg</code> command with necessary dependencies.</li>
<li class="">Inspecting the newly created directory structure and <code>package.xml</code> file.</li>
<li class="">Adding initial source files and configuring <code>CMakeLists.txt</code> (for C++) or setting up Python scripts.</li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="52-ros-workspaces">5.2 ROS Workspaces<a href="#52-ros-workspaces" class="hash-link" aria-label="Direct link to 5.2 ROS Workspaces" title="Direct link to 5.2 ROS Workspaces" translate="no">​</a></h2>
<p>A <strong>ROS Workspace</strong> is a directory on your file system where you collect, build, and install multiple ROS packages. It allows you to manage the development of several interdependent packages efficiently, especially when you are actively modifying or developing them.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="definition-a-directory-containing-multiple-ros-packages-along-with-build-and-install-artifacts">Definition: A directory containing multiple ROS packages, along with build and install artifacts.<a href="#definition-a-directory-containing-multiple-ros-packages-along-with-build-and-install-artifacts" class="hash-link" aria-label="Direct link to Definition: A directory containing multiple ROS packages, along with build and install artifacts." title="Direct link to Definition: A directory containing multiple ROS packages, along with build and install artifacts." translate="no">​</a></h3>
<p>The workspace is the top-level directory. Inside, it typically contains a <code>src</code> folder where your package source code resides. When you build the workspace, it generates <code>build</code>, <code>install</code>, and <code>log</code> (for Colcon) directories, which store intermediate build files, executables, libraries, and other artifacts.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="purpose-manage-the-development-and-building-of-multiple-interdependent-packages">Purpose: Manage the development and building of multiple interdependent packages.<a href="#purpose-manage-the-development-and-building-of-multiple-interdependent-packages" class="hash-link" aria-label="Direct link to Purpose: Manage the development and building of multiple interdependent packages." title="Direct link to Purpose: Manage the development and building of multiple interdependent packages." translate="no">​</a></h3>
<p>Workspaces are crucial for:</p>
<ul>
<li class=""><strong>Organized Development:</strong> Keeping all your development packages in one place.</li>
<li class=""><strong>Dependency Resolution:</strong> The build system can easily find and build dependencies among packages within the same workspace.</li>
<li class=""><strong>Overlaying Workspaces:</strong> ROS allows for &quot;overlaying&quot; workspaces, meaning you can build your custom packages on top of existing ROS installations or other workspaces. This allows you to develop new features or fix bugs without modifying the core ROS installation. When ROS searches for packages, it checks the paths defined by the <code>ROS_PACKAGE_PATH</code> environment variable, which is configured when you &quot;source&quot; a workspace.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="521-catkin-workspaces-ros-1">5.2.1 Catkin Workspaces (ROS 1)<a href="#521-catkin-workspaces-ros-1" class="hash-link" aria-label="Direct link to 5.2.1 Catkin Workspaces (ROS 1)" title="Direct link to 5.2.1 Catkin Workspaces (ROS 1)" translate="no">​</a></h3>
<p><strong>Catkin</strong> is the build system used primarily in ROS 1. It is an extension of CMake designed specifically for ROS packages.</p>
<ul>
<li class=""><strong>Overview of Catkin:</strong> Catkin simplifies the build process by providing a consistent way to manage dependencies, generate build rules, and install files.</li>
<li class=""><strong>Structure:</strong> A typical Catkin workspace has:<!-- -->
<ul>
<li class=""><strong><code>src/</code>:</strong> Contains all your ROS 1 packages.</li>
<li class=""><strong><code>build/</code>:</strong> Stores CMake cache, configuration, and intermediate build files.</li>
<li class=""><strong><code>devel/</code>:</strong> Contains environment setup scripts and symlinks to your installed packages, allowing you to use your built packages without explicitly installing them globally.</li>
<li class=""><strong><code>install/</code> (optional):</strong> If you run <code>catkin_make install</code>, packages will be installed here, similar to a system-wide installation.</li>
</ul>
</li>
<li class=""><strong>Build Process (<code>catkin_make</code>, <code>catkin_make_isolated</code>):</strong>
<ul>
<li class="">Navigate to the root of your workspace (<code>cd ~/catkin_ws</code>).</li>
<li class="">Run <code>catkin_make</code> (or <code>catkin_make_isolated</code> for packages with non-standard CMake projects or for better isolation). This command processes all <code>CMakeLists.txt</code> files in your <code>src</code> directory, compiles your code, and places the build artifacts in <code>build</code> and <code>devel</code>.</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="522-colcon-workspaces-ros-2">5.2.2 Colcon Workspaces (ROS 2)<a href="#522-colcon-workspaces-ros-2" class="hash-link" aria-label="Direct link to 5.2.2 Colcon Workspaces (ROS 2)" title="Direct link to 5.2.2 Colcon Workspaces (ROS 2)" translate="no">​</a></h3>
<p><strong>Colcon</strong> is the primary build tool for ROS 2, and it can also be used for ROS 1. It was developed to address some limitations of Catkin and offer more flexibility.</p>
<ul>
<li class=""><strong>Advantages over Catkin:</strong>
<ul>
<li class=""><strong>Speed and Parallelism:</strong> Colcon can build packages in parallel more efficiently, significantly speeding up build times for large workspaces.</li>
<li class=""><strong>Better Multi-Package Support:</strong> It provides more robust handling of complex dependencies and package interrelationships.</li>
<li class=""><strong>Flexibility:</strong> It supports multiple build types (CMake, Python setuptools) and offers better integration with standard package management tools.</li>
</ul>
</li>
<li class=""><strong>Structure:</strong> A typical Colcon workspace has:<!-- -->
<ul>
<li class=""><strong><code>src/</code>:</strong> Contains all your ROS 2 (and potentially ROS 1) packages.</li>
<li class=""><strong><code>build/</code>:</strong> Stores intermediate build artifacts for each package.</li>
<li class=""><strong><code>install/</code>:</strong> Contains the final installed files (executables, libraries, Python packages, setup scripts) for each package, organized into separate subdirectories for better isolation.</li>
<li class=""><strong><code>log/</code>:</strong> Stores logs from the build process.</li>
</ul>
</li>
<li class=""><strong>Build Process (<code>colcon build</code>):</strong>
<ul>
<li class="">Navigate to the root of your Colcon workspace (<code>cd ~/ros2_ws</code>).</li>
<li class="">Run <code>colcon build</code>. This command will find all packages in your <code>src</code> directory, resolve their dependencies, build them, and install their output into the <code>install</code> directory. You can use options like <code>--packages-select &lt;package_name&gt;</code> to build specific packages.</li>
</ul>
</li>
</ul>
<p>Understanding and effectively managing ROS packages and workspaces is foundational to successful development in both ROS 1 and ROS 2 environments.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="53-building-and-sourcing-workspaces">5.3 Building and Sourcing Workspaces<a href="#53-building-and-sourcing-workspaces" class="hash-link" aria-label="Direct link to 5.3 Building and Sourcing Workspaces" title="Direct link to 5.3 Building and Sourcing Workspaces" translate="no">​</a></h2>
<p>After creating and populating your ROS packages within a workspace, the next crucial steps are to <strong>build</strong> them and then <strong>source</strong> the workspace. Building compiles your code and generates executables, while sourcing makes these executables and your package&#x27;s environment variables known to your shell.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="531-building-packages">5.3.1 Building Packages<a href="#531-building-packages" class="hash-link" aria-label="Direct link to 5.3.1 Building Packages" title="Direct link to 5.3.1 Building Packages" translate="no">​</a></h3>
<p>The build process transforms your source code and resource definitions into executable programs, libraries, and other artifacts that ROS can utilize.</p>
<ul>
<li class=""><strong><code>catkin_make</code> (ROS 1):</strong> This is the standard command-line tool for building Catkin workspaces.<!-- -->
<ul>
<li class=""><strong>How it works:</strong> When you run <code>catkin_make</code> from the root of your workspace (e.g., <code>~/catkin_ws/</code>), it finds all packages in the <code>src</code> directory. For each package, it invokes CMake and then <code>make</code> to compile the C++ code, process Python files, generate message/service/action headers, and handle other build tasks.</li>
<li class=""><strong>Output:</strong> The compiled artifacts and development setup files are placed in the <code>build/</code> and <code>devel/</code> directories respectively.</li>
<li class=""><strong>Usage:</strong>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cd ~/catkin_ws/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">catkin_make</span><br></span></code></pre></div></div>
</li>
</ul>
</li>
<li class=""><strong><code>colcon build</code> (ROS 2):</strong> This is the equivalent (and more powerful) build tool for Colcon workspaces, used in ROS 2 and increasingly for ROS 1.<!-- -->
<ul>
<li class=""><strong>Usage:</strong>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cd ~/ros2_ws/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">colcon build</span><br></span></code></pre></div></div>
</li>
<li class=""><strong>Options:</strong> <code>colcon build</code> offers several useful options:<!-- -->
<ul>
<li class=""><code>--packages-select &lt;package_name&gt;</code>: Build only a specific package (e.g., <code>colcon build --packages-select my_robot_controller</code>).</li>
<li class=""><code>--packages-up-to &lt;package_name&gt;</code>: Build a specific package and all its dependencies.</li>
<li class=""><code>--symlink-install</code>: Creates symlinks instead of copying files, which is useful for faster iteration during development, especially for Python packages.</li>
</ul>
</li>
<li class=""><strong>Output:</strong> The build artifacts for each package are typically placed in <code>build/&lt;package_name&gt;/</code> and the installed files in <code>install/&lt;package_name&gt;/</code>.</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="532-sourcing-the-workspace">5.3.2 Sourcing the Workspace<a href="#532-sourcing-the-workspace" class="hash-link" aria-label="Direct link to 5.3.2 Sourcing the Workspace" title="Direct link to 5.3.2 Sourcing the Workspace" translate="no">​</a></h3>
<p>Sourcing a workspace is essential to set up your shell environment so that ROS can find and use the packages you&#x27;ve built. It modifies environment variables like <code>ROS_PACKAGE_PATH</code> and <code>PATH</code>.</p>
<ul>
<li class=""><strong>Purpose of sourcing:</strong> When you open a new terminal, your system doesn&#x27;t automatically know where your ROS packages or executables are located. Sourcing the workspace&#x27;s setup file exports the necessary environment variables, making your ROS installation and custom workspace packages discoverable by ROS.</li>
<li class=""><strong><code>source devel/setup.bash</code> (ROS 1):</strong> After a successful <code>catkin_make</code> in ROS 1, you need to source the <code>setup.bash</code> file from the <code>devel</code> directory.<!-- -->
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">source ~/catkin_ws/devel/setup.bash</span><br></span></code></pre></div></div>
</li>
<li class=""><strong><code>source install/setup.bash</code> (ROS 2):</strong> In ROS 2, after <code>colcon build</code>, you source the <code>setup.bash</code> (or <code>setup.ps1</code> for PowerShell, <code>setup.zsh</code> for Zsh) file from the <code>install</code> directory.<!-- -->
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">source ~/ros2_ws/install/setup.bash</span><br></span></code></pre></div></div>
</li>
<li class=""><strong>Importance of sourcing the correct setup file:</strong> Always source the setup file of your <em>most recent</em> workspace. If you have multiple ROS installations or workspaces, sourcing the wrong one can lead to packages not being found or version conflicts.</li>
<li class=""><strong>Overlapping Workspaces and Precedence:</strong> It&#x27;s common to have your custom workspace &quot;overlay&quot; the main ROS installation. When you source your workspace&#x27;s setup file <em>after</em> sourcing the main ROS installation&#x27;s setup file, your workspace&#x27;s packages will take precedence. This means if you have a package in your workspace with the same name as one in the main ROS installation, your workspace&#x27;s version will be used.</li>
</ul>
<p>Regularly building and sourcing your workspace is a fundamental practice in ROS development, ensuring that your changes are compiled and that your system can correctly locate and execute your robot software.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="54-best-practices-for-package-development">5.4 Best Practices for Package Development<a href="#54-best-practices-for-package-development" class="hash-link" aria-label="Direct link to 5.4 Best Practices for Package Development" title="Direct link to 5.4 Best Practices for Package Development" translate="no">​</a></h2>
<p>Developing robust and maintainable ROS packages requires adhering to certain best practices that promote clarity, reusability, and collaboration.</p>
<ul>
<li class=""><strong>Clear and Concise <code>package.xml</code> Descriptions:</strong> The <code>package.xml</code> file serves as the manifest for your package. Ensure it contains accurate and informative details about the package&#x27;s purpose, version, author, and license. A clear description helps others understand what your package does and whether it&#x27;s suitable for their needs.</li>
<li class=""><strong>Managing Dependencies Correctly:</strong> Differentiate between <code>build_depend</code> (dependencies required only during compilation) and <code>run_depend</code> (dependencies required at runtime, in ROS 1) or <code>depend</code> (for both, in ROS 2). Incorrectly specified dependencies can lead to build failures or runtime errors. For ROS 2, <code>exec_depend</code> is also used for runtime executables.</li>
<li class=""><strong>Version Control Integration:</strong> Always manage your ROS packages using a version control system like Git. This allows for tracking changes, collaborating with others, and easily reverting to previous versions if needed. Include a <code>.gitignore</code> file to exclude build artifacts and other non-essential files.</li>
<li class=""><strong>Documentation Within Packages:</strong> Good documentation is crucial for both yourself and other developers.<!-- -->
<ul>
<li class=""><strong>README.md:</strong> A top-level README file explaining the package&#x27;s purpose, how to build it, how to run it, and basic usage examples.</li>
<li class=""><strong>Code Comments:</strong> Comment your code clearly, especially for complex logic, APIs, and configuration options.</li>
<li class=""><strong>ROS Wiki/GitHub Pages:</strong> Consider providing more extensive documentation on the ROS Wiki or through GitHub Pages for widely used packages.</li>
</ul>
</li>
<li class=""><strong>Unit Testing and Integration Testing:</strong> Implement automated tests to verify the correctness of your code.<!-- -->
<ul>
<li class=""><strong>Unit Tests:</strong> Test individual functions or classes in isolation.</li>
<li class=""><strong>Integration Tests:</strong> Verify that different nodes and components of your package communicate and operate correctly together. ROS provides testing frameworks (e.g., <code>rostest</code> in ROS 1, <code>ament_cmake_gtest</code> / <code>ament_python_pytest</code> in ROS 2).</li>
</ul>
</li>
<li class=""><strong>Adhering to ROS Conventions and Style Guides:</strong> Follow established ROS naming conventions for nodes, topics, services, and parameters. Adhere to coding style guides (e.g., C++ ROS style guide, PEP 8 for Python) to ensure consistency and readability across the ROS ecosystem.</li>
<li class=""><strong>Releasing and Sharing Packages:</strong> If your package is intended for broader use, consider releasing it through the official ROS build farm. This makes it easily installable by other users (<code>apt install ros-&lt;distro&gt;-&lt;package_name&gt;</code>). For less formal sharing, hosting on GitHub or GitLab is common.</li>
</ul>
<p>By following these best practices, developers can create high-quality, maintainable, and shareable ROS packages that contribute effectively to the broader robotics community.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/part2-ros/chapter5-packages.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/my-robotic-book-project/docs/part2-ros/chapter4-core-concepts"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Chapter 4 - ROS Core Concepts</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/my-robotic-book-project/docs/part2-ros/chapter6-urdf"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Chapter 6 - URDF and Robot Description</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#51-understanding-ros-packages" class="table-of-contents__link toc-highlight">5.1 Understanding ROS Packages</a><ul><li><a href="#definition-the-fundamental-unit-of-software-organization-in-ros-ros-1--ros-2" class="table-of-contents__link toc-highlight">Definition: The fundamental unit of software organization in ROS (ROS 1 &amp; ROS 2)</a></li><li><a href="#purpose-encapsulate-related-code-data-and-configuration-files-for-a-specific-functionality" class="table-of-contents__link toc-highlight">Purpose: Encapsulate related code, data, and configuration files for a specific functionality.</a></li><li><a href="#benefits-modularity-reusability-clear-dependency-management" class="table-of-contents__link toc-highlight">Benefits: Modularity, reusability, clear dependency management.</a></li><li><a href="#511-package-structure" class="table-of-contents__link toc-highlight">5.1.1 Package Structure</a></li><li><a href="#512-creating-a-new-package" class="table-of-contents__link toc-highlight">5.1.2 Creating a New Package</a></li></ul></li><li><a href="#52-ros-workspaces" class="table-of-contents__link toc-highlight">5.2 ROS Workspaces</a><ul><li><a href="#definition-a-directory-containing-multiple-ros-packages-along-with-build-and-install-artifacts" class="table-of-contents__link toc-highlight">Definition: A directory containing multiple ROS packages, along with build and install artifacts.</a></li><li><a href="#purpose-manage-the-development-and-building-of-multiple-interdependent-packages" class="table-of-contents__link toc-highlight">Purpose: Manage the development and building of multiple interdependent packages.</a></li><li><a href="#521-catkin-workspaces-ros-1" class="table-of-contents__link toc-highlight">5.2.1 Catkin Workspaces (ROS 1)</a></li><li><a href="#522-colcon-workspaces-ros-2" class="table-of-contents__link toc-highlight">5.2.2 Colcon Workspaces (ROS 2)</a></li></ul></li><li><a href="#53-building-and-sourcing-workspaces" class="table-of-contents__link toc-highlight">5.3 Building and Sourcing Workspaces</a><ul><li><a href="#531-building-packages" class="table-of-contents__link toc-highlight">5.3.1 Building Packages</a></li><li><a href="#532-sourcing-the-workspace" class="table-of-contents__link toc-highlight">5.3.2 Sourcing the Workspace</a></li></ul></li><li><a href="#54-best-practices-for-package-development" class="table-of-contents__link toc-highlight">5.4 Best Practices for Package Development</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Book</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/my-robotic-book-project/docs/intro">Introduction</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/panaversity/my-robotic-book" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Panaversity. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>